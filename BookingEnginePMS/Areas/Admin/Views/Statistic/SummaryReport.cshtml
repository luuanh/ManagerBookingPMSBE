@using BookingEnginePMS.Models;
@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    List<TransitionLanguage> transitions = (List<TransitionLanguage>)Session["transitions"];
    Transition transition = new Transition(transitions);
}
<script>
    $("#menu_10").addClass('click-menu-top')
</script>
<script src="~/Areas/Admin/Content/js/Statistic/summary-report.js"></script>
<style>
    .box-table-summary-report th, .box-table-summary-report td {
        vertical-align: middle !important;
        border: 1px solid #D4D4D4;
    }
</style>
<div class="uk-grid">
    <div class="uk-width-1-1 uk-margin-medium-bottom">
        <h3>@(transition.Translate(2406, "Summary Report"))</h3>
        <h3></h3>
        <hr />
    </div>
    <div class="uk-width-1-1 uk-margin-bottom">
        <div class="uk-grid">
            <div class="uk-width-large-1-6 uk-width-medium-1-3 uk-margin-medium-bottom">
                <div class="uk-input-group">
                    <div class="md-input-wrapper">
                        <label><b>@(transition.Translate(2407, "Date"))</b></label>
                        <input id="FromDate" data-uk-datepicker="{format:'DD-MM-YYYY'}" autocomplete="off" ng-model="FromDate" type="text" class="md-input">
                        <span class="md-input-bar "></span>
                    </div>
                    <span class="uk-input-group-addon"><i class="uk-input-group-icon uk-icon-calendar"></i></span>
                </div>
            </div>
            <div class="uk-width-large-5-6 uk-width-medium-1-3">
                <button ng-click="GetData()" class="md-btn md-btn-new md-btn-wave-light">@(transition.Translate(2428, "Filter"))</button>
                @*<a href="/Admin/Statistic/DownloadInvoiceBreakDown" class="md-btn md-btn-new md-btn-wave-light" style="float:right">@(transition.Translate(849, "Download"))</a>*@
            </div>
        </div>
    </div>
    <div class="uk-width-1-1 uk-margin-bottom box-table-summary-report">
        <div class="uk-grid">
            <div class="uk-width-medium-1-2 uk-margin-bottom">
                <div class="uk-overflow-container">
                    <table class="uk-table uk-table-border" style="border-collapse: collapse;">
                        <thead>
                            <tr style="background: linear-gradient(rgb(246, 247, 248), rgb(215, 215, 215));">
                                <th colspan="2">@transition.Translate(2417, "Room details")</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>@(transition.Translate(2408, "Accommodation in the day"))</td>
                                <td class="uk-text-center"><span ng-cloak>{{data.inHouse}}</span></td>
                            </tr>
                            <tr>
                                <td>@(transition.Translate(2409, "Check in the day"))</td>
                                <td class="uk-text-center"><span ng-cloak>{{data.checkin}}</span></td>
                            </tr>
                            <tr>
                                <td>@(transition.Translate(2410, "Check out the day"))</td>
                                <td class="uk-text-center"><span ng-cloak>{{data.checkout}}</span></td>
                            </tr>
                            <tr>
                                <td>@(transition.Translate(2411, "Set during the day"))</td>
                                <td class="uk-text-center"><span ng-cloak>{{data.book}}</span></td>
                            </tr>
                            <tr>
                                <td>@(transition.Translate(2412, "No show of the day"))</td>
                                <td class="uk-text-center"><span ng-cloak>{{data.noShow}}</span></td>
                            </tr>
                            <tr>
                                <td>@(transition.Translate(2413, "Cancellation of the day"))</td>
                                <td class="uk-text-center"><span ng-cloak>{{data.cancel}}</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="uk-width-medium-1-2 uk-margin-bottom">
                <div class="uk-overflow-container">
                    <table class="uk-table uk-table-border" style="border-collapse: collapse;">
                        <thead>
                            <tr style="background: linear-gradient(rgb(246, 247, 248), rgb(215, 215, 215));">
                                <th colspan="2">@transition.Translate(2418, "Parts detail of the chamber")</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>@(transition.Translate(2414, "Clean room"))</td>
                                <td class="uk-text-center"><span ng-cloak>{{data.roomClean}}</span></td>
                            </tr>
                            <tr>
                                <td>@(transition.Translate(2415, "Repair room"))</td>
                                <td class="uk-text-center"><span ng-cloak>{{data.roomDirty}}</span></td>
                            </tr>
                            <tr>
                                <td>@(transition.Translate(2416, "Room dirty mark"))</td>
                                <td class="uk-text-center"><span ng-cloak>{{data.roomRepair}}</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="uk-width-1-1 uk-margin-bottom">
                <div class="uk-overflow-container">
                    <table class="uk-table uk-table-border" style="border-collapse: collapse;">
                        <thead>
                            <tr>
                                <th colspan="8">@transition.Translate(2419, "Guest turnover at")</th>
                                <th class="uk-text-right"><b ng-cloak>{{data.totalPriceAllRoom | currency:'':''}}</b></th>
                            </tr>
                            <tr style="background: linear-gradient(rgb(246, 247, 248), rgb(215, 215, 215));">
                                <th class="uk-text-center">@(transition.Translate(2426, "ResCode"))</th>
                                <th class="uk-text-center">Folio</th>
                                <th class="uk-text-center">@transition.Translate(2430, "Book type")</th>
                                <th class="uk-text-center">@transition.Translate(2420, "Guest name")</th>
                                <th class="uk-text-center">@transition.Translate(2421, "Accommodation")</th>
                                <th class="uk-text-center">@transition.Translate(2422, "Room name")</th>
                                <th class="uk-text-center">@transition.Translate(2423, "Arrival date - Departure date")</th>
                                <th class="uk-text-center">@transition.Translate(2424, "Source")</th>
                                <th class="uk-text-center">@transition.Translate(2425, "Room price") ₫</th>
                            </tr>
                        </thead>
                        <tbody ng-cloak>
                            <tr ng-repeat="item in data.bookings">
                                <td class="uk-text-center">
                                    <span>{{item.ReservationId}}</span>
                                </td>
                                <td class="uk-text-center">
                                    <span>{{item.BookingId}}</span>
                                </td>
                                <td class="uk-text-center">
                                    <span>{{getTypeReservation(item.TypeBooking)}}</span>
                                </td>
                                <td>
                                    <span>{{item.GuestName}}</span>
                                </td>
                                <td>
                                    <span>{{item.RoomTypeName}}</span>
                                </td>
                                <td class="uk-text-center">
                                    <span>{{item.RoomCode}}</span>
                                </td>
                                <td class="uk-text-center">
                                    <span>
                                        <span> {{item.ArrivalDate | date:'dd/MM/yyyy HH:mm'}}</span> -
                                        <span ng-if="item.TypeBooking == 0 || item.Status ==3"> {{item.DepartureDate | date:'dd/MM/yyyy HH:mm'}}</span>
                                        <span ng-if="item.TypeBooking == 1 && item.Status == 2"> ____________</span>
                                    </span>
                                </td>
                                <td>
                                    <span>{{getSource(item.BookingSource)}}</span>
                                </td>
                                <td class="uk-text-right">
                                    <span>{{item.TotalRoom | currency:'':''}}</span>
                                </td>
                            </tr>
                            <tr style="background: linear-gradient(rgb(246, 247, 248), rgb(215, 215, 215));">
                                <td colspan="9"></td>
                            </tr>
                            <tr ng-repeat="item in data.serviceCategories">
                                <td colspan="8">
                                    <span>{{item.ServiceCategoryName}}</span>
                                </td>
                                <td class="uk-text-right">
                                    <span>{{item.TotalPrice | currency:'':''}}</span>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="8">@transition.Translate(2427, "Extrabed")</td>
                                <td class="uk-text-right">{{data.totalExtrabedsPrice | currency:'':''}}
                            </tr>
                            <tr>
                                <td colspan="8">@transition.Translate(2429, "Total after vat")</td>
                                <td class="uk-text-right"><b>{{data.totalAllService | currency:'':''}}</b></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>