@using BookingEnginePMS.Models;
@{
    Layout = "~/Areas/Admin/Views/Shared/_LayoutSetting.cshtml";
    List<TransitionLanguage> transitions = (List<TransitionLanguage>)Session["transitions"];
    Transition transition = new Transition(transitions);
}
<script>
    $("#Room").addClass("menu-clicked")
</script>
<script>
    $(function () {
        var e = $("#kUI_window")
            , t = $("#kUI_undo");
        if (e.length) {
            var a = e
                , n = t.bind("click", function () {
                    a.data("kendoWindow").open(),
                        n.hide()
                });
            a.data("kendoWindow") || a.kendoWindow({
                width: "600px",
                title: "Information",
                actions: ["Pin", "Minimize", "Maximize", "Close"],
                close: function () {
                    n.show()
                }
            })
        }
    })
</script>
<style>
    input[type=checkbox] {
        position: absolute;
    }

    .grid-non-margin > div {
        padding-left: 0px;
        padding-right: 10px;
    }

    select {
        display: block;
        width: 100%;
        margin-top: 5px;
    }
</style>
<script src="~/ckfinder/ckfinder.js"></script>
<script src="~/Areas/Admin/Content/js/Room/room.js"></script>
<div id="kUI_window" style="display:none">
    <div>
        <div class="uk-grid uk-margin-bottom">
            <div class="uk-width-1">
                <div class="uk-grid" style="margin-left">
                    <div class="uk-width-1 uk-margin-medium-bottom box-not-render-span">
                        <label style="color: #727272;font-size: 12px;display: block;padding-left: 5px;"><b>@(transition.Translate(990, "Accommodation"))</b></label>
                        <select ng-model="room.RoomTypeId" convert-to-number style="max-width: 300px;" class="md-input">
                            <option value="{{item.RoomTypeId}}" ng-repeat="item in roomTypes">{{item.RoomTypeCode}} ({{item.RoomTypeName}})</option>
                        </select>
                    </div>
                    <div class="uk-width-1-3 uk-margin-medium-bottom">
                        <div class="md-input-wrapper">
                            <label><b>@(transition.Translate(991, "Code")) <span class="star-red">*</span></b></label>
                            <input ng-click="RefreshValidate()" ng-model="room.RoomCode" type="text" class="md-input">
                            <span class="md-input-bar "></span>
                            <span id="err_RoomCode" class="error">@(transition.Translate(992, "Value is invalid!"))</span>
                        </div>
                    </div>
                    <div class="uk-width-1-3 uk-margin-medium-bottom">
                        <div style="position: relative;">
                            <label><b>@(transition.Translate(993, "Floor"))</b></label>
                            <input ng-click="RefreshValidate()" ng-model="room.Floor" type="number" min="1" class="md-input">
                            <span class="md-input-bar "></span>
                            <span id="err_Floor" class="error">@(transition.Translate(992, "Value is invalid!"))</span>
                        </div>
                    </div>
                    <div class="uk-width-1-3 uk-margin-medium-bottom">
                        <div class="md-input-wrapper">
                            <label><b>@(transition.Translate(994, "Status"))</b></label>
                            <select class="md-input " style="margin-top: 0;" ng-model="room.Status" convert-to-number>
                                <option value="1">@(transition.Translate(995, "Clean"))</option>
                                <option value="2">@(transition.Translate(996, "Dirty"))</option>
                                <option value="3">@(transition.Translate(997, "Repair"))</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="uk-grid box-edit-booking">
            <div class="uk-width-1 uk-text-right" style="padding-right: 50px;">
                <button class="md-btn md-btn-new" ng-click="Post()" ng-if="isAdd">@(transition.Translate(998, "Add"))</button>
                <button class="md-btn md-btn-new" ng-click="Put()" ng-if="!isAdd">@(transition.Translate(999, "Update"))</button>
                <button class="md-btn md-btn-danger" ng-click="CloseWindow()">@(transition.Translate(1000, "Cancel"))</button>
            </div>
        </div>
    </div>

    <div id="ModalConfirm" class="uk-modal">
        <div class="uk-modal-dialog">
            <button type="button" class="uk-modal-close uk-close"></button>
            <h2 class="heading_a">@(transition.Translate(1001, "Warning!"))</h2>
            <div>
                <div class="uk-grid uk-margin-bottom">
                    <div class="uk-width-1">
                        <h4>@(transition.Translate(1002, "Are you sure you want to delete this room ?"))</h4>
                    </div>
                </div>
                <div class="uk-grid">
                    <div class="uk-width-1 uk-text-right">
                        <button class="md-btn md-btn-warning" ng-click="Delete()">@(transition.Translate(1003, "Delete"))</button>
                        <button class="md-btn md-btn-danger uk-modal-close uk-close">@(transition.Translate(1000, "Cancel"))</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="uk-grid">
    <div class="uk-width-1-1 uk-margin-medium-bottom">
        <h3>@(transition.Translate(1004, "Room"))</h3>
    </div>
    <div class="uk-width-1-1 uk-margin-bottom">
        <div class="uk-grid">
            <div class="uk-width-1-3">
                <label><b>@(transition.Translate(990, "Accommodation"))</b></label>
                <select ng-model="filters.RoomTypeId" convert-to-number ng-change="GetData()" class="md-input">
                    <option value="-1">@(transition.Translate(1005, "All"))</option>
                    <option value="{{item.RoomTypeId}}" ng-repeat="item in roomTypes">{{item.RoomTypeCode}} ({{item.RoomTypeName}})</option>
                </select>
            </div>
            <div class="uk-width-2-3 uk-text-right">
                <button class="md-btn md-btn-new md-btn-wave-light" ng-click="ShowAdd()">@(transition.Translate(1006, "Add New"))</button>
            </div>
        </div>
    </div>
    <div class="uk-width-1-1">
        <div class="uk-grid grid-non-margin" style="margin-left: 0;">
            <div class="uk-width-1-10 uk-margin-bottom" ng-repeat="item in data" ng-cloak
                 ng-click="Edit(item.RoomId)" style="cursor:pointer">
                <div class="md-card">
                    <div class="md-card-content">
                        <div class="uk-text-center">
                            <p class="room-name">{{item.RoomCode}}</p>
                            <p class="room-type">{{item.RoomTypeCode}}</p>
                            <p class="floor">@(transition.Translate(993, "Floor")) {{item.Floor}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
