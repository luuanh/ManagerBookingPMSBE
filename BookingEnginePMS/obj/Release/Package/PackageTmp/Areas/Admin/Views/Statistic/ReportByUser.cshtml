@using BookingEnginePMS.Models;
@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    List<TransitionLanguage> transitions = (List<TransitionLanguage>)Session["transitions"];
    Transition transition = new Transition(transitions);
}
<script>
    $("#menu_10").addClass('click-menu-top')
</script>
<script src="~/Areas/Admin/Content/js/Statistic/report-by-user.js"></script>
<div class="uk-grid">
    <div class="uk-width-1-1 uk-margin-medium-bottom">
        <h3 style="display: inline-block;margin-right: 10px;">@(transition.Translate(2445, "My Report"))</h3>
        <hr />
    </div>
    <div class="uk-width-1-1" ng-cloak>
        <div class="uk-grid">
            <div class="uk-width-large-1-6 uk-width-medium-1-3 uk-margin-medium-bottom">
                <div class="uk-input-group">
                    <div class="md-input-wrapper">
                        <label><b>@(transition.Translate(213, "From date"))</b></label>
                        <input id="FromDate" data-uk-datepicker="{format:'DD-MM-YYYY'}" autocomplete="off" ng-model="FromDate" type="text" class="md-input">
                        <span class="md-input-bar "></span>
                    </div>
                    <span class="uk-input-group-addon"><i class="uk-input-group-icon uk-icon-calendar"></i></span>
                </div>
            </div>
            <div class="uk-width-large-1-6 uk-width-medium-1-3 uk-margin-medium-bottom">
                <div class="uk-input-group">
                    <div class="md-input-wrapper">
                        <label><b>@(transition.Translate(214, "To date"))</b></label>
                        <input id="ToDate" data-uk-datepicker="{format:'DD-MM-YYYY'}" autocomplete="off" ng-model="ToDate" type="text" class="md-input">
                        <span class="md-input-bar "></span>
                    </div>
                    <span class="uk-input-group-addon"><i class="uk-input-group-icon uk-icon-calendar"></i></span>
                </div>
            </div>
            <div class="uk-width-large-4-6 uk-width-medium-1-3 uk-text-right">
                <a class="md-btn md-btn-new md-btn-wave-light" ng-click="GetData()">@(transition.Translate(216, "Search"))</a>
            </div>
        </div>
    </div>
    <div class="uk-width-1-1 uk-margin-bottom">
        <div style="border: 1px solid #D4D4D4;border-top: none;" ng-cloak>
            <div class="uk-grid">
                <div class="uk-width-1">
                    <div class="uk-overflow-container">
                        <div class=" box-reservation">
                            <table class="uk-table uk-table-bordered" style="border-collapse: collapse;">
                                <thead>
                                    <tr style="background: linear-gradient(rgb(246, 247, 248), rgb(215, 215, 215));">
                                        <th class="uk-text-center">#</th>
                                        <th class="uk-text-center">@(transition.Translate(224, "ResCode"))</th>
                                        <th class="uk-text-center">@(transition.Translate(225, "Guest Name"))</th>
                                        <th style="min-width: 70px;">@(transition.Translate(227, "Date Booked"))</th>
                                        <th>@(transition.Translate(228, "Accommodation"))</th>
                                        <th style="min-width: 70px;">@(transition.Translate(2337, "Date Checkin"))</th>
                                        <th style="min-width: 70px;">@transition.Translate(2338, "Date Checkout")</th>
                                        <th class="uk-text-center" style="min-width: 90px;">@(transition.Translate(230, "Total")) (₫)</th>
                                        <th class="uk-text-center">@(transition.Translate(233, "Status"))</th>
                                        <th class="uk-text-center">User</th>
                                    </tr>
                                </thead>
                                <tbody ng-cloak>
                                    <tr ng-repeat="item in data">
                                        <td class="uk-text-center">{{$index + 1}}</td>
                                        <td class="uk-text-center numeric">
                                            <a target="_blank" href="/Admin/Reservation/Edit?id={{item.ReservationId}}">{{item.ReservationId}}</a>
                                        </td>
                                        <td>
                                            <a target="_blank" href="/Admin/Reservation/Edit?id={{item.ReservationId}}">{{item.GuestName}}</a>
                                        </td>
                                        <td>{{item.CreateDate | date:"dd-MM-yyyy HH:mm"}}</td>
                                        <td>{{item.RoomTypeName}}</td>
                                        <td>{{item.ArrivalDate | date:"dd-MM-yyyy HH:mm"}}</td>
                                        <td>{{item.DepartureDate | date:"dd-MM-yyyy HH:mm"}}</td>
                                        <td class="uk-text-right">{{item.Total | currency:'':'0'}}</td>
                                        <td class="uk-text-center"><span ng-bind-html="getStatus(item.Status)"></span></td>
                                        <td class="uk-text-center">{{item.UserCreate}}</td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr style="background: linear-gradient(rgb(246, 247, 248), rgb(215, 215, 215));">
                                        <th colspan="6"></th>
                                        <th>@(transition.Translate(234, "Total price"))</th>
                                        <th class="uk-text-right">{{totalpriceAllBooking | currency:'':'0'}}</th>
                                        <th colspan="2"></th>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>