@using BookingEnginePMS.Models;
@using BookingEnginePMS.Areas.Admin.Controllers;
@{
    Layout = "~/Areas/Admin/Views/Shared/_LayoutPrintLandscape.cshtml";
    Hotel hotel = (Hotel)ViewData["hotel"];
    Guest guest = (Guest)ViewData["guest"];
    Reservation reservation = (Reservation)ViewData["reservation"];
    string CompanyName = (string)ViewData["CompanyName"];
    List<Booking_Reservation> bookings = (List<Booking_Reservation>)ViewData["booking"];
}
<div class="uk-grid" id="ConfirmRoom">
    <div class="uk-width-1 uk-margin-bottom">
        <div class="uk-grid">
            <div class="uk-width-2-5 uk-margin-small-bottom">
                <img src="@hotel.Logo" />
            </div>
            <div class="uk-width-3-5 uk-text-center">
                <p style="margin: 5px;font-size: 14px;font-weight: bold;text-transform: uppercase;" class="ng-binding">@hotel.Name</p>
                <p style="margin: 5px;font-size: 13px;font-weight: 600" class="ng-binding">@hotel.Address</p>
                <p style="margin: 5px;font-size: 13px;" class="ng-binding">Hotline: @hotel.Hotline | Phone: @hotel.Phone </p>
                <p style="margin: 5px;font-size: 13px;" class="ng-binding">Email: @hotel.Email</p>
                @if (hotel.Website != null && hotel.Website != "")
                {
                    <p style="margin: 5px;font-size: 13px;" class="ng-binding">Website: @hotel.Website</p>
                }
            </div>
        </div>
    </div>
    <div class="uk-width-1">
        <div class="uk-grid">
            <div class="uk-width-1 uk-text-right uk-margin-bottom">
                <p style="font-weight: 500;font-size: 12px" class="ng-binding">Ngày in/ Printing date: @DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss") </p>
            </div>
        </div>
    </div>
    <div class="uk-width-1 uk-margin-small-bottom">
        <div class="uk-grid">
            <div class="uk-width-1 uk-text-center uk-margin-bottom">
                <h3 style="margin-bottom: 0;"><b>HÓA ĐƠN/ INVOICE </b></h3>
                <h6 style="margin-top: 0;" class="ng-binding">Mã hóa đơn/ Code: IVANGR@(reservation.ReservationId)</h6>
            </div>
        </div>
    </div>
    <div class="uk-width-1-2 infoCustomer">
        <div class="uk-grid uk-margin-small-bottom">
            <div class="uk-width-1-2">
                <span>Reminiscent Name </span>
            </div>
            <div class="uk-width-1-2">
                <b>@reservation.ReminiscentName</b>
            </div>
        </div>
        <div class="uk-grid uk-margin-small-bottom">
            <div class="uk-width-1-2">
                <span>Khách hàng/ Guest </span>
            </div>
            <div class="uk-width-1-2">
                <b>@guest.SurName @guest.FirstName </b>
            </div>
        </div>
        <div class="uk-grid uk-margin-small-bottom">
            <div class="uk-width-1-2">
                <span>Điện thoại/ Phone </span>
            </div>
            <div class="uk-width-1-2">
                <b>@guest.Phone </b>
            </div>
        </div>
    </div>
    <div class="uk-width-1-2">
        <div class="uk-grid uk-margin-small-bottom">
            <div class="uk-width-3-5">
                <span>Arrival Flight Date</span>
            </div>
            <div class="uk-width-2-5">
                <b>@reservation.ArrivalFlightDate, @reservation.ArrivalFlightTime</b>
            </div>
        </div>
        <div class="uk-grid uk-margin-small-bottom">
            <div class="uk-width-3-5">
                <span>Departure Flight Date</span>
            </div>
            <div class="uk-width-2-5">
                <b>@reservation.DepartureFlightDate, @reservation.DepartureFlightTime</b>
            </div>
        </div>
        <div class="uk-grid uk-margin-small-bottom">
            <div class="uk-width-1-2">
                <span>Đại lý/ Agency </span>
            </div>
            <div class="uk-width-1-2">
                <b>@CompanyName </b>
            </div>
        </div>
    </div>
    <div class="uk-width-1 uk-margin-top uk-margin-small-bottom">
        <div>
            <table class="uk-table uk-table-nowrap table-lst table-infoBill">
                <thead>
                    <tr>
                        <th>Folio</th>
                        <th>Chỗ ở/ Accommodation</th>
                        <th>Phòng/ Room</th>
                        <th>Đặt theo/ Type</th>
                        <th>Khách/ Guest</th>
                        <th>Check in</th>
                        <th>Check out</th>
                        <th>Tổng/ Total</th>
                        <th>Thanh toán/ Paid</th>
                        <th>Còn lại/ Balance</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in bookings)
                    {
                        <tr>
                            <td class="uk-text-center">@item.BookingId</td>
                            <td>@item.RoomTypeName</td>
                            <td class="uk-text-center">@item.RoomCode</td>
                            <td class="uk-text-center">@(item.TypeBooking == 0 ? "Ngày/ Day" : "Giờ/ Hour")</td>
                            <td>@item.GuestName</td>
                            <td class="uk-text-center">@item.ArrivalDate.ToString("dd/MM/yyyy HH:mm")</td>
                            <td class="uk-text-center">@item.DepartureDate.ToString("dd/MM/yyyy HH:mm")</td>
                            <td class="uk-text-right">@(String.Format("{0:#,0} ₫", item.Total))</td>
                            <td class="uk-text-right">@(String.Format("{0:#,0} ₫", item.Paid))</td>
                            <td class="uk-text-right">@(String.Format("{0:#,0} ₫", item.Total - item.Paid))</td>
                        </tr>
                    }
                    <tr>
                        <td colspan="7" class="uk-text-right">
                            Tổng/ Total
                        </td>
                        <td class="uk-text-right">
                            @(String.Format("{0:#,0} ₫", bookings.Sum(x => x.Total)))
                        </td>
                        <td class="uk-text-right">
                            @(String.Format("{0:#,0} ₫", bookings.Sum(x => x.Paid)))
                        </td>
                        <td class="uk-text-right">
                            @(String.Format("{0:#,0} ₫", bookings.Sum(x => x.Paid) - bookings.Sum(x => x.Paid)))
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="uk-width-1 sign-user">

    </div>
</div>