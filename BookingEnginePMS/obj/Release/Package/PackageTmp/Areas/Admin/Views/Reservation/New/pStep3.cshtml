@using BookingEnginePMS.Models;
@model Transition
<div class="uk-grid" style="margin-top: -20px;">
    <div class="uk-width-medium-1">
        <div class="uk-grid">
            <div class="uk-width-1 uk-margin-bottom">
                <h4>
                    @Model.Translate(88, "Voucher"): <b>{{data.Voucher}}</b>
                </h4>
            </div>
        </div>
        @Html.Partial("~/Areas/Admin/Views/Reservation/New/pService.cshtml", Model)
    </div>
    <div class="uk-width-medium-1">
        <div class="uk-grid">
            <div class="uk-width-1 uk-margin-bottom">
                <h5 class="title-box-small-accomodation" style="margin-bottom: 0;"><b>@Model.Translate(117, "Service chosen") </b></h5>
                <div class="uk-overflow-container box-table-left" ng-cloak>
                    <div ng-if="serviceChoose.length == 0" class="uk-text-center box-not-available" style="padding: 0 20px;">
                        <p style="margin-top: 20px;">
                            <i class="uk-icon-random" style="font-size: 23px;padding: 12px 12px 11px 12px;"></i>
                        </p>
                        <p style="font-size: 14px;">
                            @Model.Translate(118, "Add service to your reservation")
                        </p>
                    </div>
                    <table ng-if="serviceChoose.length > 0" class="uk-table uk-table-bordered" style="border: 1px solid #f0f0f0;border-top:none;border-collapse: collapse;">
                        <thead>
                            <tr style="background: #EEEEEE !important;">
                                <th>@Model.Translate(119, "Name")</th>
                                <th class="uk-text-center">@Model.Translate(2449, "Date Use")</th>
                                <th class="uk-text-center" style="width: 100px;">@Model.Translate(99, "Price") (₫)</th>
                                <th class="uk-text-center" style="width: 50px;">@Model.Translate(100, "Quantity")</th>
                                <th class="uk-text-center" style="width: 140px;">@Model.Translate(104, "Accommodation")</th>
                                <th style="width: 40px;"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in serviceChoose track by $index">
                                <td>{{item.ServiceName}}</td>
                                <td style="width: 150px;">
                                    <input ng-model="item.DateUser" style="text-align:center" autocomplete="off" id="DateUse_{{$index}}" type="text" data-uk-datepicker="{format:'DD-MM-YYYY'}" class="md-input date_use_service" />
                                </td>
                                <td class="uk-text-center">
                                    <div class="box-input-default">
                                        <input type="text" class="md-input uk-text-center" ng-model="item.Price" />
                                    </div>
                                </td>
                                <td class="uk-text-center">
                                    <div class="box-input-default">
                                        <input ng-model="item.Number" type="number" min="1" class="md-input uk-text-center" />
                                    </div>
                                </td>
                                <td>
                                    <select ng-model="item.RoomTypeIdIndex" class="md-input">
                                        @*<option value="-1">All</option>*@
                                        <option value="{{sv.RoomTypeId}}-{{sv.Index}}" ng-repeat="sv in roomtypeForService">{{sv.RoomTypeName}} (#{{sv.Index}})</option>
                                    </select>
                                </td>
                                <td class="uk-text-center">
                                    <i class="uk-icon-close close-service" ng-click="removeService($index)"></i>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="uk-width-1">
        <div class="uk-grid" style="margin-left:0;background: #f0f0f0;">
            <div class="uk-width-1" style="padding: 10px 0;">
                <div class="box-footer">
                    <p style="margin: 4px 0;"><b>@Model.Translate(107, "Total Amount")</b></p>
                    <p style="margin: 4px 0;"><b>{{(FeePrice + ExtrabedPrice + ServicePrice + SubTotalPrice) | currency:'':'0'}} ₫</b></p>
                </div>
                <div class="box-footer">
                    <p style="margin: 4px 0;"><b>@Model.Translate(108, "Fees")</b></p>
                    <p style="margin: 4px 0;" attrCal="{{calFee_footer()}}"><b>{{FeePrice | currency:'':'0'}} ₫</b></p>
                </div>
                <div class="box-footer">
                    <p style="margin: 4px 0;"><b>@Model.Translate(109, "Services")</b></p>
                    <p style="margin: 4px 0;" attrCal="{{calService_footer()}}"><b>{{ServicePrice | currency:'':'0'}} ₫</b></p>
                </div>
                <div class="box-footer">
                    <p style="margin: 4px 0;"><b>@Model.Translate(98, "Extrabed")</b></p>
                    <p style="margin: 4px 0;" attrCal="{{calExtrabed_footer()}}"><b>{{ExtrabedPrice | currency:'':'0'}} ₫</b></p>
                </div>
                <div class="box-footer">
                    <p style="margin: 4px 0;"><b>@Model.Translate(111, "Room Charges")</b></p>
                    <p style="margin: 4px 0;" attrCal="{{calSubTotal_footer()}}"><b>{{SubTotalPrice | currency:'':'0'}} ₫</b></p>
                </div>
            </div>
            <div class="uk-width-1">
                <div class="uk-grid">
                    <div class="uk-width-1-2" style="padding: 10px 20px 20px 20px;background: #373737;">
                        <button class="md-btn md-btn-new md-btn-wave-light" ng-click="StepGuest()">@Model.Translate(120, "Back")</button>
                    </div>
                    <div class="uk-width-1-2 uk-text-right" style="padding: 10px 20px 20px 20px;background: #373737;">
                        <button class="md-btn md-btn-new md-btn-wave-light" ng-click="StepConfirm()">@Model.Translate(80, "Confirm & Payment")</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>